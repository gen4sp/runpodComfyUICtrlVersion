# ComfyUI Version Control - Cheatsheets

–ë—ã—Å—Ç—Ä—ã–µ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è –≤—Å–µ—Ö —ç—Ç–∞–ø–æ–≤ —Ä–∞–±–æ—Ç—ã —Å —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º –≤–µ—Ä—Å–∏—è–º–∏ ComfyUI.

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

### üöÄ –û—Å–Ω–æ–≤–Ω—ã–µ —ç—Ç–∞–ø—ã

1. **[–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è ComfyUI](init.md)** - –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑–æ–≤–æ–≥–æ ComfyUI
2. **[–°–æ–∑–¥–∞–Ω–∏–µ –≤–µ—Ä—Å–∏–∏](create_version.md)** - –§–∏–∫—Å–∞—Ü–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –≤ lock-—Ñ–∞–π–ª
3. **[–†–µ–∞–ª–∏–∑–∞—Ü–∏—è –≤–µ—Ä—Å–∏–∏](realize_version.md)** - –†–∞–∑–≤—ë—Ä—Ç–∫–∞ –≤–µ—Ä—Å–∏–∏ –∏–∑ `versions/*.json`
4. **[–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –º–æ–¥–µ–ª–µ–π](models.md)** - –°–∫–∞—á–∏–≤–∞–Ω–∏–µ –∏ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è –º–æ–¥–µ–ª–µ–π
5. **[–ö–∞—Å—Ç–æ–º –Ω–æ–¥—ã –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏](custom_nodes_deps.md)** - –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
6. **[Lock-—Ñ–∞–π–ª—ã](lock_files.md)** - –†–∞–±–æ—Ç–∞ —Å –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ –≤–µ—Ä—Å–∏—è–º–∏
7. **[Handler –∏ workflow](handler.md)** - –ó–∞–ø—É—Å–∫ ComfyUI workflow —á–µ—Ä–µ–∑ handler

### üéØ –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏

6. **[–ë–∞–∑–æ–≤—ã–µ –≤–µ—Ä—Å–∏–∏](base_version.md)** - –°–æ–∑–¥–∞–Ω–∏–µ –º–∏–Ω–∏–º–∞–ª—å–Ω—ã—Ö –≤–µ—Ä—Å–∏–π –¥–ª—è —Ñ–æ—Ä–∫–∞
7. **[–ó–∞–ø—É—Å–∫ –Ω–∞ RunPod](runpod_local.md)** - –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫ –≤–µ—Ä—Å–∏–π –≤–Ω–µ Docker
8. **[–†—É—á–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –∏ —É–ø–∞–∫–æ–≤–∫–∞](manual_setup_packaging.md)** - –ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

## üé® –¶–≤–µ—Ç–æ–≤–∞—è –∫–æ–¥–∏—Ä–æ–≤–∫–∞ –∫–æ–º–∞–Ω–¥

-   üü¢ **–ó–µ–ª–µ–Ω—ã–π** - –æ—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è
-   üîµ **–°–∏–Ω–∏–π** - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã
-   üü° **–ñ–µ–ª—Ç—ã–π** - –∫–æ–º–∞–Ω–¥—ã —Ç—Ä–µ–±—É—é—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
-   üî¥ **–ö—Ä–∞—Å–Ω—ã–π** - –∫–æ–º–∞–Ω–¥—ã —Ç—Ä–µ–±—É—é—â–∏–µ –æ—Å—Ç–æ—Ä–æ–∂–Ω–æ—Å—Ç–∏

## üìù –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

–ö–∞–∂–¥–∞—è –∫–æ–º–∞–Ω–¥–∞ –≤ cheatsheets –≥–æ—Ç–æ–≤–∞ –∫ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—é –∏ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—é. –ë–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –∫–æ–º–∞–Ω–¥ —Å–æ–¥–µ—Ä–∂–∞—Ç:

-   –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ –Ω–∞—á–∞–ª–µ
-   –û—Å–Ω–æ–≤–Ω—É—é –∫–æ–º–∞–Ω–¥—É
-   –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∏ –æ–ø—Ü–∏–∏
-   –ü—Ä–∏–º–µ—Ä—ã –≤—ã–≤–æ–¥–∞

## üîß –ë—ã—Å—Ç—Ä—ã–µ —Å—Å—ã–ª–∫–∏

### –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç –Ω–æ–≤–æ–π –≤–µ—Ä—Å–∏–∏

```bash
# 1. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
export COMFY_HOME="$HOME/comfy"
./scripts/init_comfyui.sh --install-torch auto

# 2. –°–æ–∑–¥–∞–Ω–∏–µ –≤–µ—Ä—Å–∏–∏
python3 scripts/create_version.py --name "my-version" --pretty

# 3. –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –≤–µ—Ä—Å–∏–∏ –∏–∑ JSON (—Å–æ–∑–¥–∞—Å—Ç –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–π COMFY_HOME)
python3 scripts/realize_version.py --version-id "my-version"
```

### –ó–∞–ø—É—Å–∫ –Ω–∞ RunPod

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
export COMFY_HOME="/runpod-volume/comfy"
export COMFY_VERSION_NAME="my-version"

# –ó–∞–ø—É—Å–∫ handler
./scripts/run_handler_local.sh --version-id my-version --workflow workflows/minimal.json --output base64
```

### –†—É—á–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –≤–µ—Ä—Å–∏–∏

```bash
# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
./scripts/init_comfyui.sh --path "$HOME/comfy-manual" --install-torch auto

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
cd "$HOME/comfy-manual"
source .venv/bin/activate
git clone https://github.com/city96/ComfyUI-GGUF custom_nodes/ComfyUI-GGUF

# –°–æ–∑–¥–∞–Ω–∏–µ lock
python3 ~/runpodComfyuiVersionControl/scripts/create_version.py --name "manual-v1" --comfy-path ComfyUI --venv .venv --pretty
```

## üè∑Ô∏è –¢–µ–≥–∏ –∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏

-   **#init** - –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
-   **#version** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–µ—Ä—Å–∏—è–º–∏
-   **#models** - —Ä–∞–±–æ—Ç–∞ —Å –º–æ–¥–µ–ª—è–º–∏
-   **#custom-nodes** - –∫–∞—Å—Ç–æ–º –Ω–æ–¥—ã
-   **#lock** - lock-—Ñ–∞–π–ª—ã
-   **#runpod** - –∑–∞–ø—É—Å–∫ –Ω–∞ RunPod
-   **#manual** - —Ä—É—á–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞
-   **#base** - –±–∞–∑–æ–≤—ã–µ –≤–µ—Ä—Å–∏–∏

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
cheatsheets/
‚îú‚îÄ‚îÄ README.md           # –≠—Ç–æ—Ç —Ñ–∞–π–ª
‚îú‚îÄ‚îÄ init.md            # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
‚îú‚îÄ‚îÄ create_version.md  # –°–æ–∑–¥–∞–Ω–∏–µ –≤–µ—Ä—Å–∏–π
‚îú‚îÄ‚îÄ realize_version.md # –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –≤–µ—Ä—Å–∏–π –∏–∑ JSON
‚îú‚îÄ‚îÄ models.md          # –ú–æ–¥–µ–ª–∏
‚îú‚îÄ‚îÄ custom_nodes_deps.md # –ö–∞—Å—Ç–æ–º –Ω–æ–¥—ã –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ lock_files.md      # Lock-—Ñ–∞–π–ª—ã
‚îú‚îÄ‚îÄ base_version.md    # –ë–∞–∑–æ–≤—ã–µ –≤–µ—Ä—Å–∏–∏
‚îú‚îÄ‚îÄ runpod_local.md    # –ó–∞–ø—É—Å–∫ –Ω–∞ RunPod
‚îî‚îÄ‚îÄ manual_setup_packaging.md # –†—É—á–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞
```

## üîÑ Workflow

```
–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è ‚Üí –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ ‚Üí –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ ‚Üí –°–æ–∑–¥–∞–Ω–∏–µ –≤–µ—Ä—Å–∏–∏ ‚Üí –†–µ–∞–ª–∏–∑–∞—Ü–∏—è ‚Üí –ó–∞–ø—É—Å–∫
     ‚Üì              ‚Üì                      ‚Üì             ‚Üì             ‚Üì          ‚Üì
   init.md ‚Üí custom_nodes_deps.md ‚Üí manual_setup_packaging.md ‚Üí create_version.md ‚Üí realize_version.md ‚Üí runpod_local.md
                           ‚Üó models.md
```

## ‚ùì Troubleshooting

–ï—Å–ª–∏ –∫–æ–º–∞–Ω–¥–∞ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
2. –£–±–µ–¥–∏—Ç–µ—Å—å –≤ –Ω–∞–ª–∏—á–∏–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö —Ñ–∞–π–ª–æ–≤
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—É—Ç–∏ –∫ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è–º
4. –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –≤ `docs/`
2. –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏ –≤ `/tmp/comfy-*.log`
3. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `--verbose` —Ñ–ª–∞–≥–∏ –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –≤—ã–≤–æ–¥–∞
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏: `pip check`

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

-   –í—Å–µ–≥–¥–∞ —Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –≤–µ—Ä—Å–∏–∏ –ø–µ—Ä–µ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ
-   –î–µ–ª–∞–π—Ç–µ —Ä–µ–∑–µ—Ä–≤–Ω—ã–µ –∫–æ–ø–∏–∏ –≤–∞–∂–Ω—ã—Ö lock-—Ñ–∞–π–ª–æ–≤
-   –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ–ø–∏—Å–∞—Ç–µ–ª—å–Ω—ã–µ –∏–º–µ–Ω–∞ –≤–µ—Ä—Å–∏–π
-   –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –≤–µ—Ä—Å–∏—è—Ö
-   –†–µ–≥—É–ª—è—Ä–Ω–æ –æ–±–Ω–æ–≤–ª—è–π—Ç–µ –±–∞–∑–æ–≤—ã–µ –≤–µ—Ä—Å–∏–∏

## üìà –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

–ü–æ—Å–ª–µ –æ—Å–≤–æ–µ–Ω–∏—è –±–∞–∑–æ–≤—ã—Ö –∫–æ–º–∞–Ω–¥ –∏–∑—É—á–∏—Ç–µ:

-   Docker —Å–±–æ—Ä–∫—É –æ–±—Ä–∞–∑–æ–≤
-   –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—é CI/CD
-   –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
-   –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—é –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö GPU
-   –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é —Å –≤–Ω–µ—à–Ω–∏–º–∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏
